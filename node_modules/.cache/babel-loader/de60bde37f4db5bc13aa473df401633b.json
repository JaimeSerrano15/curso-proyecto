{"ast":null,"code":"var _jsxFileName = \"/home/jaime/Documents/React_Feed-ReactCourse2020/src/components/Feed/Profile.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport NavFeed from './NavFeed';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.likeHandler = index => {\n      let postsAux = [...this.state.posts];\n      const config = {\n        method: \"PUT\",\n        headers: {\n          'Content-type': 'Application/json',\n          authorization: `Bearer ${this.state.token}`\n        },\n        body: JSON.stringify(postsAux[index])\n      };\n      /* fetch('https://reactcourseapi.herokuapp.com/post/', config)\n          .then(res => {this.fetchData()}) */\n\n      fetch('https://reactcourseapi.herokuapp.com/post/like', config).then(res => {\n        this.fe;\n      });\n    };\n\n    this.fetchUserData = () => {\n      let config = {\n        method: \"GET\",\n        headers: {\n          'Content-type': 'Application/json',\n          authorization: `Bearer ${this.state.token}`\n        }\n      };\n      fetch('https://reactcourseapi.herokuapp.com/user/', config).then(res => res.json()).then(data => {\n        console.log(data.user.posts);\n        this.setState({\n          myPosts: data.user.posts || ''\n        });\n      });\n    };\n\n    this.state = {\n      myPosts: [],\n      username: \"\",\n      token: localStorage.getItem('token')\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUserData();\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(NavFeed, {\n      username: this.state.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"display-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"ReactFeed\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"My Posts\"), React.createElement(\"div\", {\n      className: \"posts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Hola\"))));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/jaime/Documents/React_Feed-ReactCourse2020/src/components/Feed/Profile.js"],"names":["React","Component","withRouter","NavFeed","Profile","constructor","props","likeHandler","index","postsAux","state","posts","config","method","headers","authorization","token","body","JSON","stringify","fetch","then","res","fe","fetchUserData","json","data","console","log","user","setState","myPosts","username","localStorage","getItem","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAA+B;AAC3BI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAUlBC,WAVkB,GAUJC,KAAK,IAAI;AACnB,UAAIC,QAAQ,GAAG,CAAC,GAAG,KAAKC,KAAL,CAAWC,KAAf,CAAf;AAEA,YAAMC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,KADG;AAEXC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAELC,UAAAA,aAAa,EAAG,UAAS,KAAKL,KAAL,CAAWM,KAAM;AAFrC,SAFE;AAMXC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,QAAQ,CAACD,KAAD,CAAvB;AANK,OAAf;AASA;;;AAGIY,MAAAA,KAAK,CAAC,gDAAD,EAAmDR,MAAnD,CAAL,CACCS,IADD,CACMC,GAAG,IAAI;AAAC,aAAKC,EAAL;AAAQ,OADtB;AAGL,KA5Be;;AAAA,SA8BlBC,aA9BkB,GA8BF,MAAM;AAClB,UAAIZ,MAAM,GAAG;AACTC,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAELC,UAAAA,aAAa,EAAG,UAAS,KAAKL,KAAL,CAAWM,KAAM;AAFrC;AAFA,OAAb;AAQAI,MAAAA,KAAK,CAAC,4CAAD,EAA+CR,MAA/C,CAAL,CACKS,IADL,CACUC,GAAG,IAAIA,GAAG,CAACG,IAAJ,EADjB,EAEKJ,IAFL,CAEUK,IAAI,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAL,CAAUlB,KAAtB;AACA,aAAKmB,QAAL,CAAc;AACVC,UAAAA,OAAO,EAAGL,IAAI,CAACG,IAAL,CAAUlB,KAAV,IAAmB;AADnB,SAAd;AAGH,OAPL;AAQH,KA/CiB;;AAGd,SAAKD,KAAL,GAAa;AACTqB,MAAAA,OAAO,EAAG,EADD;AAETC,MAAAA,QAAQ,EAAG,EAFF;AAGThB,MAAAA,KAAK,EAAGiB,YAAY,CAACC,OAAb,CAAqB,OAArB;AAHC,KAAb;AAKH;;AAyCDC,EAAAA,iBAAiB,GAAE;AACf,SAAKX,aAAL;AACH;;AAEDY,EAAAA,MAAM,GAAE;AACJ,WACI,0CACI,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAK1B,KAAL,CAAWsB,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAII;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAJJ,CAFJ,CADJ;AAaH;;AApE0B;;AAwE/B,eAAe5B,OAAf","sourcesContent":["import React,{Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport NavFeed from './NavFeed';\n\nclass Profile extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            myPosts : [],\n            username : \"\",\n            token : localStorage.getItem('token'),\n        }\n    }\n\n    likeHandler = index => {\n        let postsAux = [...this.state.posts];\n    \n        const config = {\n            method: \"PUT\",\n            headers: {\n                'Content-type': 'Application/json',\n                authorization: `Bearer ${this.state.token}`\n            },\n            body: JSON.stringify(postsAux[index])\n        }\n    \n        /* fetch('https://reactcourseapi.herokuapp.com/post/', config)\n            .then(res => {this.fetchData()}) */\n    \n            fetch('https://reactcourseapi.herokuapp.com/post/like', config)\n            .then(res => {this.fe})\n            \n      }\n\n    fetchUserData = () => {\n        let config = {\n            method: \"GET\",\n            headers: {\n                'Content-type': 'Application/json',\n                authorization: `Bearer ${this.state.token}`\n            }\n        }\n\n        fetch('https://reactcourseapi.herokuapp.com/user/', config)\n            .then(res => res.json())\n            .then(data => {\n                console.log(data.user.posts);\n                this.setState({\n                    myPosts : data.user.posts || ''\n                })   \n            })\n    }\n\n    componentDidMount(){\n        this.fetchUserData();\n    }\n\n    render(){\n        return(\n            <>\n                <NavFeed username={this.state.username} />\n                <div className=\"container\">\n                    <h1 className=\"display-3\">ReactFeed</h1>\n                    <h2>My Posts</h2>\n\n                    <div className=\"posts\">\n                        <p>Hola</p>\n                    </div>\n                </div>\n            </>\n        );\n    }\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}